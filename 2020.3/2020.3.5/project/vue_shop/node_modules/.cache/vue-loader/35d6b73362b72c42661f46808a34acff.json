{"remainingRequest":"D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\src\\components\\goods\\Add.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\src\\components\\goods\\Add.vue","mtime":1583767832865},{"path":"D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1583410253566},{"path":"D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1583410253571},{"path":"D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1583410253566},{"path":"D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1582785722020}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgXyBmcm9tICdsb2Rhc2gnDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOWVhuWTgeexu+Wei+WPguaVsOeahOaVsOaNrg0KICAgICAgY2F0ZWxpc3Q6IFtdLA0KICAgICAgLy8g5Yqo5oCB5Y+C5pWw5YiX6KGo5pWw5o2uDQogICAgICBtYW55VGFibGVEYXRhOiBbXSwNCiAgICAgIC8vIOmdmeaAgeWxnuaAp+WIl+ihqOaVsOaNrg0KICAgICAgb25seVRhYmxlRGF0YTogW10sDQogICAgICBwcmV2aWV3UGF0aDogJycsDQogICAgICBwcmV2aWV3VmlzaWJsZTogZmFsc2UsDQogICAgICBhY3RpdmVJbmRleDogMCwNCiAgICAgIC8vIOWbvueJh+S4iuS8oOe7hOS7tueahGhlYWRlcnPor7fmsYLlpLTlr7nosaENCiAgICAgIGhlYWRlck9iajogew0KICAgICAgICBBdXRob3JpemF0aW9uOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQ0KICAgICAgfSwNCiAgICAgIC8vIOWbvueJh+S4iuS8oOWIsOeahOWcsOWdgA0KICAgICAgdXBsb2FkVVJMOiAiaHR0cDovLzExOS4yMy41My43ODo4ODg4L2FwaS9wcml2YXRlL3YxL3VwbG9hZCIsDQogICAgICAvLyDmt7vliqDllYblk4HnmoTooajljZXmlbDmja7lr7nosaENCiAgICAgIGFkZEZvcm06IHsNCiAgICAgICAgZ29vZHNfbmFtZTogJycsDQogICAgICAgIGdvb2RzX3ByaWNlOiAwLA0KICAgICAgICBnb29kc193ZWlnaHQ6IDAsDQogICAgICAgIGdvb2RzX251bWJlcjogMCwNCiAgICAgICAgLy8g5ZWG5ZOB5omA5bGe55qE5YiG57G75pWw57uEDQogICAgICAgIGdvb2RzX2NhdDogW10sDQogICAgICAgIHBpY3M6IFtdLA0KICAgICAgICAvLyDllYblk4HnmoTor6bmg4Xmj4/ov7ANCiAgICAgICAgZ29vZHNfaW50cm9kdWNlOiAnJywNCiAgICAgICAgYXR0cnM6IFtdDQogICAgICB9LA0KICAgICAgLy8g5re75Yqg5ZWG5ZOB6KGo5Y2V55qE6aqM6K+B6KeE5YiZ5a+56LGhDQogICAgICBhZGRGb3JtUnVsZXM6IHsNCiAgICAgICAgZ29vZHNfbmFtZTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXllYblk4HlkI3np7AnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICBdLA0KICAgICAgICBnb29kc19wcmljZTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXllYblk4Hku7fmoLwnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICBdLA0KICAgICAgICBnb29kc193ZWlnaHQ6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5ZWG5ZOB6YeN6YePJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXSwNCiAgICAgICAgZ29vZHNfbnVtYmVyOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWVhuWTgeaVsOmHjycsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgIF0sDQogICAgICAgIGdvb2RzX2NhdDogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nllYblk4HliIbnsbsnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICBdDQogICAgICB9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0Q2F0ZUxpc3QoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgZ2V0Q2F0ZUxpc3QoKSB7DQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoJy9hcGkvcHJpdmF0ZS92MS9jYXRlZ29yaWVzJykNCiAgICAgIGlmIChyZXMubWV0YS5zdGF0dXMgIT09IDIwMCkgew0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W5ZWG5ZOB5YiG57G75pWw5o2u5aSx6LSlJykNCiAgICAgIH0NCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn6I635Y+W5ZWG5ZOB5YiG57G75pWw5o2u5oiQ5YqfJykNCiAgICAgIHRoaXMuY2F0ZWxpc3QgPSByZXMuZGF0YQ0KICAgICAgY29uc29sZS5sb2codGhpcy5jYXRlbGlzdCkNCiAgICB9LA0KICAgIC8vIOe6p+iBlOmAieaLqeWZqOmAieS4remhueWPmOWMluS8muinpuWPkei/meS4quWHveaVsA0KICAgIGhhbmRsZUNoYW5nZSgpIHsNCiAgICAgIGlmICh0aGlzLmFkZEZvcm0uZ29vZHNfY2F0Lmxlbmd0aCAhPT0gMykgew0KICAgICAgICB0aGlzLmFkZEZvcm0uZ29vZHNfY2F0ID0gW10NCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIHRhYuagh+etvueahOWIh+aNoueahOmSqeWtkOWHveaVsA0KICAgIGJlZm9yZVRhYkxlYXZlKGFjdGl2ZU5hbWUsIG9sZGFjdGl2ZU5hbWUpIHsNCiAgICAgIGNvbnNvbGUubG9nKCfljbPlsIbnprvlvIDnmoTmoIfnrb7pobXlkI3lrZfmmK8nICsgb2xkYWN0aXZlTmFtZSkNCiAgICAgIGNvbnNvbGUubG9nKCfljbPlsIbov5vlhaXnmoTmoIfnrb7pobXlkI3lrZfmmK8nICsgYWN0aXZlTmFtZSkNCiAgICAgIGlmIChvbGRhY3RpdmVOYW1lID09PSAnMCcgJiYgdGhpcy5hZGRGb3JtLmdvb2RzX2NhdC5sZW5ndGggIT09IDMpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35YWI6YCJ5oup5ZWG5ZOB5YiG57G7JykNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgfSwNCiAgICAvLyDmoIfnrb7ooqvngrnlh7vml7bnmoTkuovku7blpITnkIblh73mlbANCiAgICBhc3luYyB0YWJDbGlja2VkKCkgew0KICAgICAgLy8g6K6/6Zeu55qE5piv5Yqo5oCB5Y+C5pWw6Z2i5p2/DQogICAgICBpZiAodGhpcy5hY3RpdmVJbmRleCA9PT0gJzEnKSB7DQogICAgICAgIC8vIOS4iee6p+WVhuWTgeS/oeaBrw0KICAgICAgICBjb25zdCB7DQogICAgICAgICAgZGF0YTogcmVzDQogICAgICAgIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgNCiAgICAgICAgICBgL2FwaS9wcml2YXRlL3YxL2NhdGVnb3JpZXMvJHt0aGlzLmNhdGVJZH0vYXR0cmlidXRlc2AsDQogICAgICAgICAgeyBwYXJhbXM6IHsgc2VsOiAnbWFueScgfSB9DQogICAgICAgICkNCiAgICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7DQogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluWKqOaAgeWPguaVsOWIl+ihqOWksei0pScpDQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfojrflj5bliqjmgIHlj4LmlbDliJfooajmiJDlip8nKQ0KICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgIGl0ZW0uYXR0cl92YWxzID0NCiAgICAgICAgICAgIGl0ZW0uYXR0cl92YWxzLmxlbmd0aCA9PT0gMCA/IFtdIDogaXRlbS5hdHRyX3ZhbHMuc3BsaXQoJyAnKQ0KICAgICAgICB9KQ0KICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSkNCiAgICAgICAgdGhpcy5tYW55VGFibGVEYXRhID0gcmVzLmRhdGENCiAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVJbmRleCA9PT0gJzInKSB7DQogICAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldChgL2FwaS9wcml2YXRlL3YxL2NhdGVnb3JpZXMvJHt0aGlzLmNhdGVJZH0vYXR0cmlidXRlc2AsDQogICAgICAgICAgeyBwYXJhbXM6IHsgc2VsOiAnb25seScgfSB9KQ0KICAgICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9PSAyMDApIHsNCiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W6Z2Z5oCB5bGe5oCn5YiX6KGo5aSx6LSlJyk7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfojrflj5bpnZnmgIHlj4LmlbDliJfooajmiJDlip8nKTsNCiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICB0aGlzLm9ubHlUYWJsZURhdGEgPSByZXMuZGF0YTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOWkhOeQhuWbvueJh+mihOiniOaViOaenA0KICAgIGhhbmRsZVByZXZpZXcoZmlsZSkgew0KICAgICAgY29uc29sZS5sb2coZmlsZSkNCiAgICAgIHRoaXMucHJldmlld1BhdGggPSBmaWxlLnVybDsNCiAgICAgIHRoaXMucHJldmlld1Zpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgaGFuZGxlUmVtb3ZlKGZpbGUpIHsNCiAgICAgIC8vIOiOt+WPluWwhuimgeWIoOmZpOeahOWbvueJh+eahOS4tOaXtui3r+W+hA0KICAgICAgY29uc3QgZmlsZXBhdGggPSBmaWxlLnJlc3BvbnNlLmRhdGEudG1wX3BhdGg7DQogICAgICAvLyDku45waWNz5pWw57uE5Lit77yM5om+5Yiw6L+Z5Liq5Zu+54mH5a+55bqU55qE57Si5byV5YC8DQogICAgICBjb25zdCBpID0gdGhpcy5hZGRGb3JtLnBpY3MuZmluZEluZGV4KHggPT4geC5waWMgPT09IGZpbGVwYXRoKTsNCiAgICAgIHRoaXMuYWRkRm9ybS5waWNzLnNwbGljZShpLCAxKQ0KICAgICAgY29uc29sZS5sb2codGhpcy5hZGRGb3JtKQ0KICAgIH0sDQogICAgLy8g55uR5ZCs5Zu+54mH5LiK5Lyg5oiQ5Yqf55qE5LqL5Lu2DQogICAgaGFuZGxlU3VjY2VzcyhyZXNwb25zZSkgew0KICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOw0KICAgICAgLy8gMS7mi7zmjqXlvpfliLDkuIDkuKrlm77niYfkv6Hmga/lr7nosaENCiAgICAgIGNvbnN0IHBpY0luZm8gPSB7IHBpYzogcmVzcG9uc2UuZGF0YS50bXBfcGF0aCB9Ow0KICAgICAgLy8gMi7lsIblm77niYfkv6Hmga/lr7nosaFwdXNo5YiwYWRkRm9ybS5waWNz5pWw57uE5LitDQogICAgICB0aGlzLmFkZEZvcm0ucGljcy5wdXNoKHBpY0luZm8pOw0KICAgICAgY29uc29sZS5sb2codGhpcy5hZGRGb3JtKTsNCiAgICB9LA0KICAgIGFkZCgpIHsNCiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybVJlZi52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7DQogICAgICAgIGlmICghdmFsaWQpIHsNCiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35aGr5YaZ5b+F6KaB55qE6KGo5Y2V6aG5JykNCiAgICAgICAgfQ0KICAgICAgICAvLyDmiafooYzmt7vliqDnmoTkuJrliqHpgLvovpENCiAgICAgICAgLy8gbG9kYXNoIENsb25lRGVlcChvYmopDQogICAgICAgIGNvbnN0IGZvcm0gPSBfLmNsb25lRGVlcCh0aGlzLmFkZEZvcm0pOw0KICAgICAgICBmb3JtLmdvb2RzX2NhdCA9IGZvcm0uZ29vZHNfY2F0LmpvaW4oJywnKTsNCiAgICAgICAgLy8g5aSE55CG5Yqo5oCB5Y+C5pWwDQogICAgICAgIHRoaXMubWFueVRhYmxlRGF0YS5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgIGNvbnN0IG5ld0luZm8gPSB7IGF0dHJfaWQ6IGl0ZW0uYXR0cl9pZCwgYXR0cl92YWx1ZTogaXRlbS5hdHRyX3ZhbHMuam9pbignICcpIH0NCiAgICAgICAgICB0aGlzLmFkZEZvcm0uYXR0cnMucHVzaChuZXdJbmZvKQ0KICAgICAgICB9KQ0KICAgICAgICAvLyDlpITnkIbpnZnmgIHlsZ7mgKcNCiAgICAgICAgdGhpcy5vbmx5VGFibGVEYXRhLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgY29uc3QgbmV3SW5mbyA9IHsgYXR0cl9pZDogaXRlbS5hdHRyX2lkLCBhdHRyX3ZhbHVlOiBpdGVtLmF0dHJfdmFscy5qb2luKCcgJykgfQ0KICAgICAgICAgIHRoaXMuYWRkRm9ybS5hdHRycy5wdXNoKG5ld0luZm8pDQogICAgICAgIH0pDQogICAgICAgIGZvcm0uYXR0cnMgPSB0aGlzLmFkZEZvcm0uYXR0cnMNCiAgICAgICAgY29uc29sZS5sb2coZm9ybSk7DQogICAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJy9hcGkvcHJpdmF0ZS92MS9nb29kcycsIGZvcm0pOw0KICAgICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9PSAyMDEpIHsNCiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign5re75Yqg5ZWG5ZOB5aSx6LSlJykNCiAgICAgICAgfQ0KICAgICAgICB0aGlzDQogICAgICB9KQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBjYXRlSWQoKSB7DQogICAgICBpZiAodGhpcy5hZGRGb3JtLmdvb2RzX2NhdC5sZW5ndGggPT09IDMpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuYWRkRm9ybS5nb29kc19jYXRbMl0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBudWxsDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["Add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Add.vue","sourceRoot":"src/components/goods","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 面包屑导航区域 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>添加商品</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <!-- 卡片视图区域 -->\r\n    <el-card>\r\n      <!-- 提示区域 -->\r\n      <el-alert title=\"消息提示的文案\" type=\"info\" center :closable=\"false\"></el-alert>\r\n      <!-- 步骤条区域 -->\r\n      <el-steps :space=\"200\" :active=\"parseInt(activeIndex)\" align-center finish-status=\"success\">\r\n        <el-step title=\"基本信息\"></el-step>\r\n        <el-step title=\"商品参数\"></el-step>\r\n        <el-step title=\"商品属性\"></el-step>\r\n        <el-step title=\"商品图片\"></el-step>\r\n        <el-step title=\"商品内容\"></el-step>\r\n        <el-step title=\"完成\"></el-step>\r\n      </el-steps>\r\n      <!-- tab栏区域 -->\r\n      <el-form\r\n        :model=\"addForm\"\r\n        :rules=\"addFormRules\"\r\n        ref=\"addFormRef\"\r\n        label-width=\"100px\"\r\n        label-position=\"top\"\r\n      >\r\n        <el-tabs\r\n          v-model=\"activeIndex\"\r\n          :tab-position=\"'left'\"\r\n          :before-leave=\"beforeTabLeave\"\r\n          @tab-click=\"tabClicked\"\r\n        >\r\n          <el-tab-pane label=\"基本信息\" name=\"0\">\r\n            <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n              <el-input v-model=\"addForm.goods_name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n              <el-input v-model=\"addForm.goods_price\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n              <el-input v-model=\"addForm.goods_weight\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品价格\" prop=\"goods_number\">\r\n              <el-input v-model=\"addForm.goods_number\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n              <el-cascader\r\n                expand-trigger=\"hover\"\r\n                :options=\"catelist\"\r\n                :props=\"{label: 'cat_name', value: 'cat_id', children: 'children'}\"\r\n                v-model=\"addForm.goods_cat\"\r\n                @change=\"handleChange\"\r\n              ></el-cascader>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品参数\" name=\"1\">\r\n            <el-form-item :label=\"item.attr_name\" v-for=\"item in manyTableData\" :key=\"item.attr_id\">\r\n              <el-checkbox-group v-model=\"item.attr_vals\">\r\n                <el-checkbox :label=\"cb\" v-for=\"(cb, i) in item.attr_vals\" :key=\"i\" border></el-checkbox>\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <!-- 商品参数 -->\r\n          <el-tab-pane label=\"商品属性\" name=\"2\">\r\n            <el-form-item :label=\"item.attr_name\" v-for=\"item in onlyTableData\" :key=\"item.attr_id\">\r\n              <el-input v-model=\"item.attr_vals\"></el-input>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品图片\" name=\"3\">\r\n            <!-- uploadURL表示图片要上传到的后台API地址 -->\r\n            <el-upload\r\n              :action=\"uploadURL\"\r\n              :on-preview=\"handlePreview\"\r\n              :on-remove=\"handleRemove\"\r\n              :on-success=\"handleSuccess\"\r\n              :headers=\"headerObj\"\r\n              list-type=\"picture\">\r\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n              <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n            </el-upload>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品内容\" name=\"4\">\r\n            <!-- 富文本编辑器组件 -->\r\n            <quill-editor v-model=\"addForm.goods_introduce\"></quill-editor>\r\n            <el-button type=\"primary\" @click=\"add\">添加商品</el-button>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-form>\r\n    </el-card>\r\n\r\n    <!-- 图片预览 -->\r\n    <el-dialog\r\n      title=\"预览图片\"\r\n      :visible.sync=\"previewVisible\"\r\n      width=\"50%\">\r\n      <img :src=\"previewPath\" alt=\"\">\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 商品类型参数的数据\r\n      catelist: [],\r\n      // 动态参数列表数据\r\n      manyTableData: [],\r\n      // 静态属性列表数据\r\n      onlyTableData: [],\r\n      previewPath: '',\r\n      previewVisible: false,\r\n      activeIndex: 0,\r\n      // 图片上传组件的headers请求头对象\r\n      headerObj: {\r\n        Authorization: window.sessionStorage.getItem('token')\r\n      },\r\n      // 图片上传到的地址\r\n      uploadURL: \"http://119.23.53.78:8888/api/private/v1/upload\",\r\n      // 添加商品的表单数据对象\r\n      addForm: {\r\n        goods_name: '',\r\n        goods_price: 0,\r\n        goods_weight: 0,\r\n        goods_number: 0,\r\n        // 商品所属的分类数组\r\n        goods_cat: [],\r\n        pics: [],\r\n        // 商品的详情描述\r\n        goods_introduce: '',\r\n        attrs: []\r\n      },\r\n      // 添加商品表单的验证规则对象\r\n      addFormRules: {\r\n        goods_name: [\r\n          { required: true, message: '请输入商品名称', trigger: 'blur' }\r\n        ],\r\n        goods_price: [\r\n          { required: true, message: '请输入商品价格', trigger: 'blur' }\r\n        ],\r\n        goods_weight: [\r\n          { required: true, message: '请输入商品重量', trigger: 'blur' }\r\n        ],\r\n        goods_number: [\r\n          { required: true, message: '请输入商品数量', trigger: 'blur' }\r\n        ],\r\n        goods_cat: [\r\n          { required: true, message: '请选择商品分类', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getCateList()\r\n  },\r\n  methods: {\r\n    async getCateList() {\r\n      const { data: res } = await this.$http.get('/api/private/v1/categories')\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('获取商品分类数据失败')\r\n      }\r\n      this.$message.success('获取商品分类数据成功')\r\n      this.catelist = res.data\r\n      console.log(this.catelist)\r\n    },\r\n    // 级联选择器选中项变化会触发这个函数\r\n    handleChange() {\r\n      if (this.addForm.goods_cat.length !== 3) {\r\n        this.addForm.goods_cat = []\r\n      }\r\n    },\r\n    // tab标签的切换的钩子函数\r\n    beforeTabLeave(activeName, oldactiveName) {\r\n      console.log('即将离开的标签页名字是' + oldactiveName)\r\n      console.log('即将进入的标签页名字是' + activeName)\r\n      if (oldactiveName === '0' && this.addForm.goods_cat.length !== 3) {\r\n        this.$message.error('请先选择商品分类')\r\n        return false\r\n      }\r\n    },\r\n    // 标签被点击时的事件处理函数\r\n    async tabClicked() {\r\n      // 访问的是动态参数面板\r\n      if (this.activeIndex === '1') {\r\n        // 三级商品信息\r\n        const {\r\n          data: res\r\n        } = await this.$http.get(\r\n          `/api/private/v1/categories/${this.cateId}/attributes`,\r\n          { params: { sel: 'many' } }\r\n        )\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error('获取动态参数列表失败')\r\n        }\r\n        this.$message.success('获取动态参数列表成功')\r\n        res.data.forEach(item => {\r\n          item.attr_vals =\r\n            item.attr_vals.length === 0 ? [] : item.attr_vals.split(' ')\r\n        })\r\n        console.log(res.data)\r\n        this.manyTableData = res.data\r\n      } else if (this.activeIndex === '2') {\r\n        const { data: res } = await this.$http.get(`/api/private/v1/categories/${this.cateId}/attributes`,\r\n          { params: { sel: 'only' } })\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error('获取静态属性列表失败');\r\n        }\r\n        this.$message.success('获取静态参数列表成功');\r\n        console.log(res.data);\r\n        this.onlyTableData = res.data;\r\n      }\r\n    },\r\n    // 处理图片预览效果\r\n    handlePreview(file) {\r\n      console.log(file)\r\n      this.previewPath = file.url;\r\n      this.previewVisible = true;\r\n    },\r\n    handleRemove(file) {\r\n      // 获取将要删除的图片的临时路径\r\n      const filepath = file.response.data.tmp_path;\r\n      // 从pics数组中，找到这个图片对应的索引值\r\n      const i = this.addForm.pics.findIndex(x => x.pic === filepath);\r\n      this.addForm.pics.splice(i, 1)\r\n      console.log(this.addForm)\r\n    },\r\n    // 监听图片上传成功的事件\r\n    handleSuccess(response) {\r\n      console.log(response);\r\n      // 1.拼接得到一个图片信息对象\r\n      const picInfo = { pic: response.data.tmp_path };\r\n      // 2.将图片信息对象push到addForm.pics数组中\r\n      this.addForm.pics.push(picInfo);\r\n      console.log(this.addForm);\r\n    },\r\n    add() {\r\n      this.$refs.addFormRef.validate(async valid => {\r\n        if (!valid) {\r\n          return this.$message.error('请填写必要的表单项')\r\n        }\r\n        // 执行添加的业务逻辑\r\n        // lodash CloneDeep(obj)\r\n        const form = _.cloneDeep(this.addForm);\r\n        form.goods_cat = form.goods_cat.join(',');\r\n        // 处理动态参数\r\n        this.manyTableData.forEach(item => {\r\n          const newInfo = { attr_id: item.attr_id, attr_value: item.attr_vals.join(' ') }\r\n          this.addForm.attrs.push(newInfo)\r\n        })\r\n        // 处理静态属性\r\n        this.onlyTableData.forEach(item => {\r\n          const newInfo = { attr_id: item.attr_id, attr_value: item.attr_vals.join(' ') }\r\n          this.addForm.attrs.push(newInfo)\r\n        })\r\n        form.attrs = this.addForm.attrs\r\n        console.log(form);\r\n        const { data: res } = await this.$http.post('/api/private/v1/goods', form);\r\n        if (res.meta.status !== 201) {\r\n          return this.$message.error('添加商品失败')\r\n        }\r\n        this\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    cateId() {\r\n      if (this.addForm.goods_cat.length === 3) {\r\n        return this.addForm.goods_cat[2]\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-checkbox {\r\n  margin: 0;\r\n}\r\n.el-button {\r\n  margin-top: 15px;\r\n}\r\n</style>\r\n"]}]}