{"remainingRequest":"D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\src\\components\\goods\\Add.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\src\\components\\goods\\Add.vue","mtime":1583767832865},{"path":"D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1583410253566},{"path":"D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1583410253571},{"path":"D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1583410253566},{"path":"D:\\code\\2020.3\\2020.3.5\\project\\vue_shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1582785722020}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxjb2RlXFwyMDIwLjNcXDIwMjAuMy41XFxwcm9qZWN0XFx2dWVfc2hvcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5ZWG5ZOB57G75Z6L5Y+C5pWw55qE5pWw5o2uCiAgICAgIGNhdGVsaXN0OiBbXSwKICAgICAgLy8g5Yqo5oCB5Y+C5pWw5YiX6KGo5pWw5o2uCiAgICAgIG1hbnlUYWJsZURhdGE6IFtdLAogICAgICAvLyDpnZnmgIHlsZ7mgKfliJfooajmlbDmja4KICAgICAgb25seVRhYmxlRGF0YTogW10sCiAgICAgIHByZXZpZXdQYXRoOiAnJywKICAgICAgcHJldmlld1Zpc2libGU6IGZhbHNlLAogICAgICBhY3RpdmVJbmRleDogMCwKICAgICAgLy8g5Zu+54mH5LiK5Lyg57uE5Lu255qEaGVhZGVyc+ivt+axguWktOWvueixoQogICAgICBoZWFkZXJPYmo6IHsKICAgICAgICBBdXRob3JpemF0aW9uOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQogICAgICB9LAogICAgICAvLyDlm77niYfkuIrkvKDliLDnmoTlnLDlnYAKICAgICAgdXBsb2FkVVJMOiAiaHR0cDovLzExOS4yMy41My43ODo4ODg4L2FwaS9wcml2YXRlL3YxL3VwbG9hZCIsCiAgICAgIC8vIOa3u+WKoOWVhuWTgeeahOihqOWNleaVsOaNruWvueixoQogICAgICBhZGRGb3JtOiB7CiAgICAgICAgZ29vZHNfbmFtZTogJycsCiAgICAgICAgZ29vZHNfcHJpY2U6IDAsCiAgICAgICAgZ29vZHNfd2VpZ2h0OiAwLAogICAgICAgIGdvb2RzX251bWJlcjogMCwKICAgICAgICAvLyDllYblk4HmiYDlsZ7nmoTliIbnsbvmlbDnu4QKICAgICAgICBnb29kc19jYXQ6IFtdLAogICAgICAgIHBpY3M6IFtdLAogICAgICAgIC8vIOWVhuWTgeeahOivpuaDheaPj+i/sAogICAgICAgIGdvb2RzX2ludHJvZHVjZTogJycsCiAgICAgICAgYXR0cnM6IFtdCiAgICAgIH0sCiAgICAgIC8vIOa3u+WKoOWVhuWTgeihqOWNleeahOmqjOivgeinhOWImeWvueixoQogICAgICBhZGRGb3JtUnVsZXM6IHsKICAgICAgICBnb29kc19uYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5ZWG5ZOB5ZCN56ewJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGdvb2RzX3ByaWNlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5ZWG5ZOB5Lu35qC8JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGdvb2RzX3dlaWdodDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWVhuWTgemHjemHjycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBnb29kc19udW1iZXI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXllYblk4HmlbDph48nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgZ29vZHNfY2F0OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5ZWG5ZOB5YiG57G7JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDYXRlTGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q2F0ZUxpc3Q6IGZ1bmN0aW9uIGdldENhdGVMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3JlZiwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kaHR0cC5nZXQoJy9hcGkvcHJpdmF0ZS92MS9jYXRlZ29yaWVzJyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9yZWYgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3JlZi5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluWVhuWTgeWIhuexu+aVsOaNruWksei0pScpKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn6I635Y+W5ZWG5ZOB5YiG57G75pWw5o2u5oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgX3RoaXMuY2F0ZWxpc3QgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmNhdGVsaXN0KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOe6p+iBlOmAieaLqeWZqOmAieS4remhueWPmOWMluS8muinpuWPkei/meS4quWHveaVsAogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoKSB7CiAgICAgIGlmICh0aGlzLmFkZEZvcm0uZ29vZHNfY2F0Lmxlbmd0aCAhPT0gMykgewogICAgICAgIHRoaXMuYWRkRm9ybS5nb29kc19jYXQgPSBbXTsKICAgICAgfQogICAgfSwKICAgIC8vIHRhYuagh+etvueahOWIh+aNoueahOmSqeWtkOWHveaVsAogICAgYmVmb3JlVGFiTGVhdmU6IGZ1bmN0aW9uIGJlZm9yZVRhYkxlYXZlKGFjdGl2ZU5hbWUsIG9sZGFjdGl2ZU5hbWUpIHsKICAgICAgY29uc29sZS5sb2coJ+WNs+Wwhuemu+W8gOeahOagh+etvumhteWQjeWtl+aYrycgKyBvbGRhY3RpdmVOYW1lKTsKICAgICAgY29uc29sZS5sb2coJ+WNs+Wwhui/m+WFpeeahOagh+etvumhteWQjeWtl+aYrycgKyBhY3RpdmVOYW1lKTsKCiAgICAgIGlmIChvbGRhY3RpdmVOYW1lID09PSAnMCcgJiYgdGhpcy5hZGRGb3JtLmdvb2RzX2NhdC5sZW5ndGggIT09IDMpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7flhYjpgInmi6nllYblk4HliIbnsbsnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmoIfnrb7ooqvngrnlh7vml7bnmoTkuovku7blpITnkIblh73mlbAKICAgIHRhYkNsaWNrZWQ6IGZ1bmN0aW9uIHRhYkNsaWNrZWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF9yZWYyLCByZXMsIF9yZWYzLCBfcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyLmFjdGl2ZUluZGV4ID09PSAnMScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGh0dHAuZ2V0KCIvYXBpL3ByaXZhdGUvdjEvY2F0ZWdvcmllcy8iLmNvbmNhdChfdGhpczIuY2F0ZUlkLCAiL2F0dHJpYnV0ZXMiKSwgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBzZWw6ICdtYW55JwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3JlZjIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF9yZWYyLmRhdGE7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzLm1ldGEuc3RhdHVzICE9PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF90aGlzMi4kbWVzc2FnZS5lcnJvcign6I635Y+W5Yqo5oCB5Y+C5pWw5YiX6KGo5aSx6LSlJykpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcygn6I635Y+W5Yqo5oCB5Y+C5pWw5YiX6KGo5oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBpdGVtLmF0dHJfdmFscyA9IGl0ZW0uYXR0cl92YWxzLmxlbmd0aCA9PT0gMCA/IFtdIDogaXRlbS5hdHRyX3ZhbHMuc3BsaXQoJyAnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgX3RoaXMyLm1hbnlUYWJsZURhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMi5hY3RpdmVJbmRleCA9PT0gJzInKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kaHR0cC5nZXQoIi9hcGkvcHJpdmF0ZS92MS9jYXRlZ29yaWVzLyIuY29uY2F0KF90aGlzMi5jYXRlSWQsICIvYXR0cmlidXRlcyIpLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIHNlbDogJ29ubHknCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX3JlZjMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9yZXMgPSBfcmVmMy5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICghKF9yZXMubWV0YS5zdGF0dXMgIT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF90aGlzMi4kbWVzc2FnZS5lcnJvcign6I635Y+W6Z2Z5oCB5bGe5oCn5YiX6KGo5aSx6LSlJykpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ+iOt+WPlumdmeaAgeWPguaVsOWIl+ihqOaIkOWKnycpOwoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9yZXMuZGF0YSk7CiAgICAgICAgICAgICAgICBfdGhpczIub25seVRhYmxlRGF0YSA9IF9yZXMuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWkhOeQhuWbvueJh+mihOiniOaViOaenAogICAgaGFuZGxlUHJldmlldzogZnVuY3Rpb24gaGFuZGxlUHJldmlldyhmaWxlKSB7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUpOwogICAgICB0aGlzLnByZXZpZXdQYXRoID0gZmlsZS51cmw7CiAgICAgIHRoaXMucHJldmlld1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGhhbmRsZVJlbW92ZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKGZpbGUpIHsKICAgICAgLy8g6I635Y+W5bCG6KaB5Yig6Zmk55qE5Zu+54mH55qE5Li05pe26Lev5b6ECiAgICAgIHZhciBmaWxlcGF0aCA9IGZpbGUucmVzcG9uc2UuZGF0YS50bXBfcGF0aDsgLy8g5LuOcGljc+aVsOe7hOS4re+8jOaJvuWIsOi/meS4quWbvueJh+WvueW6lOeahOe0ouW8leWAvAoKICAgICAgdmFyIGkgPSB0aGlzLmFkZEZvcm0ucGljcy5maW5kSW5kZXgoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5waWMgPT09IGZpbGVwYXRoOwogICAgICB9KTsKICAgICAgdGhpcy5hZGRGb3JtLnBpY3Muc3BsaWNlKGksIDEpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmFkZEZvcm0pOwogICAgfSwKICAgIC8vIOebkeWQrOWbvueJh+S4iuS8oOaIkOWKn+eahOS6i+S7tgogICAgaGFuZGxlU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlU3VjY2VzcyhyZXNwb25zZSkgewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7IC8vIDEu5ou85o6l5b6X5Yiw5LiA5Liq5Zu+54mH5L+h5oGv5a+56LGhCgogICAgICB2YXIgcGljSW5mbyA9IHsKICAgICAgICBwaWM6IHJlc3BvbnNlLmRhdGEudG1wX3BhdGgKICAgICAgfTsgLy8gMi7lsIblm77niYfkv6Hmga/lr7nosaFwdXNo5YiwYWRkRm9ybS5waWNz5pWw57uE5LitCgogICAgICB0aGlzLmFkZEZvcm0ucGljcy5wdXNoKHBpY0luZm8pOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmFkZEZvcm0pOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybVJlZi52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHZhbGlkKSB7CiAgICAgICAgICB2YXIgZm9ybSwgX3JlZjUsIHJlczsKCiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+Whq+WGmeW/heimgeeahOihqOWNlemhuScpKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIC8vIOaJp+ihjOa3u+WKoOeahOS4muWKoemAu+i+kQogICAgICAgICAgICAgICAgICAvLyBsb2Rhc2ggQ2xvbmVEZWVwKG9iaikKICAgICAgICAgICAgICAgICAgZm9ybSA9IF8uY2xvbmVEZWVwKF90aGlzMy5hZGRGb3JtKTsKICAgICAgICAgICAgICAgICAgZm9ybS5nb29kc19jYXQgPSBmb3JtLmdvb2RzX2NhdC5qb2luKCcsJyk7IC8vIOWkhOeQhuWKqOaAgeWPguaVsAoKICAgICAgICAgICAgICAgICAgX3RoaXMzLm1hbnlUYWJsZURhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIHZhciBuZXdJbmZvID0gewogICAgICAgICAgICAgICAgICAgICAgYXR0cl9pZDogaXRlbS5hdHRyX2lkLAogICAgICAgICAgICAgICAgICAgICAgYXR0cl92YWx1ZTogaXRlbS5hdHRyX3ZhbHMuam9pbignICcpCiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmFkZEZvcm0uYXR0cnMucHVzaChuZXdJbmZvKTsKICAgICAgICAgICAgICAgICAgfSk7IC8vIOWkhOeQhumdmeaAgeWxnuaApwoKCiAgICAgICAgICAgICAgICAgIF90aGlzMy5vbmx5VGFibGVEYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SW5mbyA9IHsKICAgICAgICAgICAgICAgICAgICAgIGF0dHJfaWQ6IGl0ZW0uYXR0cl9pZCwKICAgICAgICAgICAgICAgICAgICAgIGF0dHJfdmFsdWU6IGl0ZW0uYXR0cl92YWxzLmpvaW4oJyAnKQogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIF90aGlzMy5hZGRGb3JtLmF0dHJzLnB1c2gobmV3SW5mbyk7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgZm9ybS5hdHRycyA9IF90aGlzMy5hZGRGb3JtLmF0dHJzOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmb3JtKTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kaHR0cC5wb3N0KCcvYXBpL3ByaXZhdGUvdjEvZ29vZHMnLCBmb3JtKTsKCiAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICBfcmVmNSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgICByZXMgPSBfcmVmNS5kYXRhOwoKICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLm1ldGEuc3RhdHVzICE9PSAyMDEpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF90aGlzMy4kbWVzc2FnZS5lcnJvcign5re75Yqg5ZWG5ZOB5aSx6LSlJykpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICAgIF90aGlzMzsKCiAgICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNhdGVJZDogZnVuY3Rpb24gY2F0ZUlkKCkgewogICAgICBpZiAodGhpcy5hZGRGb3JtLmdvb2RzX2NhdC5sZW5ndGggPT09IDMpIHsKICAgICAgICByZXR1cm4gdGhpcy5hZGRGb3JtLmdvb2RzX2NhdFsyXTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Add.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 面包屑导航区域 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>添加商品</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <!-- 卡片视图区域 -->\r\n    <el-card>\r\n      <!-- 提示区域 -->\r\n      <el-alert title=\"消息提示的文案\" type=\"info\" center :closable=\"false\"></el-alert>\r\n      <!-- 步骤条区域 -->\r\n      <el-steps :space=\"200\" :active=\"parseInt(activeIndex)\" align-center finish-status=\"success\">\r\n        <el-step title=\"基本信息\"></el-step>\r\n        <el-step title=\"商品参数\"></el-step>\r\n        <el-step title=\"商品属性\"></el-step>\r\n        <el-step title=\"商品图片\"></el-step>\r\n        <el-step title=\"商品内容\"></el-step>\r\n        <el-step title=\"完成\"></el-step>\r\n      </el-steps>\r\n      <!-- tab栏区域 -->\r\n      <el-form\r\n        :model=\"addForm\"\r\n        :rules=\"addFormRules\"\r\n        ref=\"addFormRef\"\r\n        label-width=\"100px\"\r\n        label-position=\"top\"\r\n      >\r\n        <el-tabs\r\n          v-model=\"activeIndex\"\r\n          :tab-position=\"'left'\"\r\n          :before-leave=\"beforeTabLeave\"\r\n          @tab-click=\"tabClicked\"\r\n        >\r\n          <el-tab-pane label=\"基本信息\" name=\"0\">\r\n            <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n              <el-input v-model=\"addForm.goods_name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n              <el-input v-model=\"addForm.goods_price\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n              <el-input v-model=\"addForm.goods_weight\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品价格\" prop=\"goods_number\">\r\n              <el-input v-model=\"addForm.goods_number\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n              <el-cascader\r\n                expand-trigger=\"hover\"\r\n                :options=\"catelist\"\r\n                :props=\"{label: 'cat_name', value: 'cat_id', children: 'children'}\"\r\n                v-model=\"addForm.goods_cat\"\r\n                @change=\"handleChange\"\r\n              ></el-cascader>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品参数\" name=\"1\">\r\n            <el-form-item :label=\"item.attr_name\" v-for=\"item in manyTableData\" :key=\"item.attr_id\">\r\n              <el-checkbox-group v-model=\"item.attr_vals\">\r\n                <el-checkbox :label=\"cb\" v-for=\"(cb, i) in item.attr_vals\" :key=\"i\" border></el-checkbox>\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <!-- 商品参数 -->\r\n          <el-tab-pane label=\"商品属性\" name=\"2\">\r\n            <el-form-item :label=\"item.attr_name\" v-for=\"item in onlyTableData\" :key=\"item.attr_id\">\r\n              <el-input v-model=\"item.attr_vals\"></el-input>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品图片\" name=\"3\">\r\n            <!-- uploadURL表示图片要上传到的后台API地址 -->\r\n            <el-upload\r\n              :action=\"uploadURL\"\r\n              :on-preview=\"handlePreview\"\r\n              :on-remove=\"handleRemove\"\r\n              :on-success=\"handleSuccess\"\r\n              :headers=\"headerObj\"\r\n              list-type=\"picture\">\r\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n              <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n            </el-upload>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"商品内容\" name=\"4\">\r\n            <!-- 富文本编辑器组件 -->\r\n            <quill-editor v-model=\"addForm.goods_introduce\"></quill-editor>\r\n            <el-button type=\"primary\" @click=\"add\">添加商品</el-button>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-form>\r\n    </el-card>\r\n\r\n    <!-- 图片预览 -->\r\n    <el-dialog\r\n      title=\"预览图片\"\r\n      :visible.sync=\"previewVisible\"\r\n      width=\"50%\">\r\n      <img :src=\"previewPath\" alt=\"\">\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 商品类型参数的数据\r\n      catelist: [],\r\n      // 动态参数列表数据\r\n      manyTableData: [],\r\n      // 静态属性列表数据\r\n      onlyTableData: [],\r\n      previewPath: '',\r\n      previewVisible: false,\r\n      activeIndex: 0,\r\n      // 图片上传组件的headers请求头对象\r\n      headerObj: {\r\n        Authorization: window.sessionStorage.getItem('token')\r\n      },\r\n      // 图片上传到的地址\r\n      uploadURL: \"http://119.23.53.78:8888/api/private/v1/upload\",\r\n      // 添加商品的表单数据对象\r\n      addForm: {\r\n        goods_name: '',\r\n        goods_price: 0,\r\n        goods_weight: 0,\r\n        goods_number: 0,\r\n        // 商品所属的分类数组\r\n        goods_cat: [],\r\n        pics: [],\r\n        // 商品的详情描述\r\n        goods_introduce: '',\r\n        attrs: []\r\n      },\r\n      // 添加商品表单的验证规则对象\r\n      addFormRules: {\r\n        goods_name: [\r\n          { required: true, message: '请输入商品名称', trigger: 'blur' }\r\n        ],\r\n        goods_price: [\r\n          { required: true, message: '请输入商品价格', trigger: 'blur' }\r\n        ],\r\n        goods_weight: [\r\n          { required: true, message: '请输入商品重量', trigger: 'blur' }\r\n        ],\r\n        goods_number: [\r\n          { required: true, message: '请输入商品数量', trigger: 'blur' }\r\n        ],\r\n        goods_cat: [\r\n          { required: true, message: '请选择商品分类', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getCateList()\r\n  },\r\n  methods: {\r\n    async getCateList() {\r\n      const { data: res } = await this.$http.get('/api/private/v1/categories')\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('获取商品分类数据失败')\r\n      }\r\n      this.$message.success('获取商品分类数据成功')\r\n      this.catelist = res.data\r\n      console.log(this.catelist)\r\n    },\r\n    // 级联选择器选中项变化会触发这个函数\r\n    handleChange() {\r\n      if (this.addForm.goods_cat.length !== 3) {\r\n        this.addForm.goods_cat = []\r\n      }\r\n    },\r\n    // tab标签的切换的钩子函数\r\n    beforeTabLeave(activeName, oldactiveName) {\r\n      console.log('即将离开的标签页名字是' + oldactiveName)\r\n      console.log('即将进入的标签页名字是' + activeName)\r\n      if (oldactiveName === '0' && this.addForm.goods_cat.length !== 3) {\r\n        this.$message.error('请先选择商品分类')\r\n        return false\r\n      }\r\n    },\r\n    // 标签被点击时的事件处理函数\r\n    async tabClicked() {\r\n      // 访问的是动态参数面板\r\n      if (this.activeIndex === '1') {\r\n        // 三级商品信息\r\n        const {\r\n          data: res\r\n        } = await this.$http.get(\r\n          `/api/private/v1/categories/${this.cateId}/attributes`,\r\n          { params: { sel: 'many' } }\r\n        )\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error('获取动态参数列表失败')\r\n        }\r\n        this.$message.success('获取动态参数列表成功')\r\n        res.data.forEach(item => {\r\n          item.attr_vals =\r\n            item.attr_vals.length === 0 ? [] : item.attr_vals.split(' ')\r\n        })\r\n        console.log(res.data)\r\n        this.manyTableData = res.data\r\n      } else if (this.activeIndex === '2') {\r\n        const { data: res } = await this.$http.get(`/api/private/v1/categories/${this.cateId}/attributes`,\r\n          { params: { sel: 'only' } })\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error('获取静态属性列表失败');\r\n        }\r\n        this.$message.success('获取静态参数列表成功');\r\n        console.log(res.data);\r\n        this.onlyTableData = res.data;\r\n      }\r\n    },\r\n    // 处理图片预览效果\r\n    handlePreview(file) {\r\n      console.log(file)\r\n      this.previewPath = file.url;\r\n      this.previewVisible = true;\r\n    },\r\n    handleRemove(file) {\r\n      // 获取将要删除的图片的临时路径\r\n      const filepath = file.response.data.tmp_path;\r\n      // 从pics数组中，找到这个图片对应的索引值\r\n      const i = this.addForm.pics.findIndex(x => x.pic === filepath);\r\n      this.addForm.pics.splice(i, 1)\r\n      console.log(this.addForm)\r\n    },\r\n    // 监听图片上传成功的事件\r\n    handleSuccess(response) {\r\n      console.log(response);\r\n      // 1.拼接得到一个图片信息对象\r\n      const picInfo = { pic: response.data.tmp_path };\r\n      // 2.将图片信息对象push到addForm.pics数组中\r\n      this.addForm.pics.push(picInfo);\r\n      console.log(this.addForm);\r\n    },\r\n    add() {\r\n      this.$refs.addFormRef.validate(async valid => {\r\n        if (!valid) {\r\n          return this.$message.error('请填写必要的表单项')\r\n        }\r\n        // 执行添加的业务逻辑\r\n        // lodash CloneDeep(obj)\r\n        const form = _.cloneDeep(this.addForm);\r\n        form.goods_cat = form.goods_cat.join(',');\r\n        // 处理动态参数\r\n        this.manyTableData.forEach(item => {\r\n          const newInfo = { attr_id: item.attr_id, attr_value: item.attr_vals.join(' ') }\r\n          this.addForm.attrs.push(newInfo)\r\n        })\r\n        // 处理静态属性\r\n        this.onlyTableData.forEach(item => {\r\n          const newInfo = { attr_id: item.attr_id, attr_value: item.attr_vals.join(' ') }\r\n          this.addForm.attrs.push(newInfo)\r\n        })\r\n        form.attrs = this.addForm.attrs\r\n        console.log(form);\r\n        const { data: res } = await this.$http.post('/api/private/v1/goods', form);\r\n        if (res.meta.status !== 201) {\r\n          return this.$message.error('添加商品失败')\r\n        }\r\n        this\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    cateId() {\r\n      if (this.addForm.goods_cat.length === 3) {\r\n        return this.addForm.goods_cat[2]\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-checkbox {\r\n  margin: 0;\r\n}\r\n.el-button {\r\n  margin-top: 15px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/goods"}]}